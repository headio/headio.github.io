function echo(c,b){var a="你好";alert("hello world")}var sound=(function(){var d={};var a;var c=false;var b=[];d.SetBGM=function(e){a=ult.audio.CreateAudio(e,{preload:true,loop:true,autoplay:true});c=a.autoplay};d.PlayBGM=function(){if(a&&!c){a.play();c=true}};d.PauseBGM=function(){if(a&&c){a.pause();c=false}};d.AddBeatenSound=function(e){b.push(ult.audio.CreateAudio(e))};d.RandomPlayBeatenSound=function(){var e=b[ult.GetRandom(0,b.length)];e.play()};return d})();var page1=(function(){var e={};var a=false;var b=false;var c=[".boss",".beat-effect",".beat-button"];var d;e.Start=function(){$("#beat-button").click(function(){if(page1.AniPlaying()){page1.AniStop()}else{page1.AniStart();sound.PlayBGM()}$("#popup-rule").show()});$("#beat-title").on("webkitAnimationEnd",function(){$(this).removeClass("normal");$(this).addClass("beaten")});$("#popup-rule-confirm").click(function(){$("#popup-rule").hide();e.PageEnd();page2.Start()});sound.SetBGM("res/bgm.mp3");e.AniStart()};e.AniStart=function(){if(!a){d=setInterval(function(){if(b){SwitchToNormalStatus()}else{SwitchToBeatenStatus()}},200);a=true}};e.AniPlaying=function(){return a};e.AniStop=function(){if(a){clearInterval(d);if(b){SwitchToNormalStatus()}a=false}};e.PageEnd=function(){$("#startpage").hide();e.AniStop();sound.PauseBGM()};SwitchToNormalStatus=function(){for(var f in c){$(c[f]).removeClass("beaten");$(c[f]).addClass("normal")}b=false};SwitchToBeatenStatus=function(){for(var f in c){$(c[f]).removeClass("normal");$(c[f]).addClass("beaten")}b=true};Reset=function(){a=false;b=false;clearInterval(d)};return e})();var page2=(function(){var h={};var g=5;var f=g;var i=0;var d=0;var b=0;var c=true;var e=[{min_count:0,max_count:10,boss_head:"boss-head-1",boss_body:"boss-body-1"},{min_count:11,max_count:20,boss_head:"boss-head-2",boss_body:"boss-body-2"},{min_count:21,max_count:30,boss_head:"boss-head-3",boss_body:"boss-body-3"},{min_count:31,max_count:40,boss_head:"boss-head-4",boss_body:"boss-body-3"},{min_count:41,max_count:50,boss_head:"boss-head-5",boss_body:"boss-body-4"},{min_count:51,max_count:60,boss_head:"boss-head-6",boss_body:"boss-body-4"},{min_count:61,max_count:999,boss_head:"boss-head-7",boss_body:"boss-body-5"}];var a=0;h.Start=function(){Reset();$("#restart-button").click(function(){Reset()});$(".beaten-area").click(function(){if(c){i=setInterval(function(){--f;SetLeftTime(f);if(f==0){clearInterval(i);SetLeftTime(0);SetPopupShareCount(b);$("#popup-share").show()}},1000);c=false}sound.RandomPlayBeatenSound();if(d==0){RightBeatBoss()}else{if(d==1){LeftBeatBoss()}}SetScore(b);SetBossWithStage()});$("#popup-share-confirm").click(function(){if(ult.PhoneInputCorrect($("#phone-number").val())){alert("开始分享");$("#popup-share").hide();Reset()}else{alert("手机号错误")}});$("#beatpage").show();sound.AddBeatenSound("res/beat1.mp3");sound.AddBeatenSound("res/beat2.mp3")};SetScore=function(j){$("#beat-score").html(String(j))};SetLeftTime=function(j){$("#left-time").html(String(j))};GetScore=function(){return Number($("#beat-score").html())};GetLeftTime=function(){return Number($("#left-time").html())};SetBossWithStage=function(){var m=e.length;var l={};var j=false;for(var k in e){if(b>=e[k].min_count&&b<=e[k].max_count){l=e[k];j=true;break}}if(j){$("#boss-body").attr("class","boss-body");$("#boss-head").attr("class","boss-head");$("#boss-body").addClass(l.boss_body);$("#boss-head").addClass(l.boss_head)}};ResetBoss=function(){$("#boss-body").attr("class","boss-body boss-body-1");$("#boss-head").attr("class","boss-head boss-head-1")};LeftBeatBoss=function(){if(d==1){++b;$("#boss-head").hide();$("#boss-beaten-right").hide();$("#boss-beaten-left").show();clearTimeout(a);a=setTimeout(function(){$("#boss-beaten-left").hide();$("#boss-head").show()},400);d=0}};RightBeatBoss=function(){if(d==0){++b;$("#boss-head").hide();$("#boss-beaten-left").hide();$("#boss-beaten-right").show();clearTimeout(a);a=setTimeout(function(){$("#boss-beaten-right").hide();$("#boss-head").show()},400);d=1}};SetPopupShareCount=function(j){$("#share-count").html(String(j))};Reset=function(){clearInterval(i);f=g;i=0;d=0;b=0;c=true;SetLeftTime(f);d=ult.GetRandom(0,2);SetScore(b)};return h})();$(document).ready(function(){page1.Start()});